<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://www.sunjianbo.com</id>
    <title>å­™å»ºåšçš„å°ç«™</title>
    <updated>2020-08-06T04:39:05.982Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://www.sunjianbo.com"/>
    <link rel="self" href="https://www.sunjianbo.com/atom.xml"/>
    <subtitle>äº’è”ç½‘ã€ç¼–ç¨‹ã€ç”Ÿæ´»æ„Ÿæ‚Ÿï¼Œåœ¨è¿™é‡Œå¸Œæœ›ä½ æˆ‘éƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼Œå¾—åˆ°æå‡</subtitle>
    <logo>https://www.sunjianbo.com/images/avatar.png</logo>
    <icon>https://www.sunjianbo.com/favicon.ico</icon>
    <rights>All rights reserved 2020, å­™å»ºåšçš„å°ç«™</rights>
    <entry>
        <title type="html"><![CDATA[CPUç¼“å­˜å’Œå†…å­˜å±éšœ]]></title>
        <id>https://www.sunjianbo.com/cpu-cache-and-memory-barrier/</id>
        <link href="https://www.sunjianbo.com/cpu-cache-and-memory-barrier/">
        </link>
        <updated>2020-08-06T03:40:13.000Z</updated>
        <content type="html"><![CDATA[<h2 id="cpuç¼“å­˜">CPUç¼“å­˜</h2>
<p>ä¸ºäº†æé«˜ç¨‹åºè¿è¡Œçš„æ€§èƒ½,ç°ä»£CPUåœ¨å¾ˆå¤šæ–¹é¢å¯¹ç¨‹åºè¿›è¡Œäº†ä¼˜åŒ–.</p>
<p>ä¾‹å¦‚:CPUé«˜é€Ÿç¼“å­˜.å°½å¯èƒ½åœ°é¿å…å¤„ç†å™¨è®¿é—®ä¸»å†…å­˜çš„æ—¶é—´å¼€é”€,å¤„ç†å™¨å¤§å¤šä¼šåˆ©ç”¨ç¼“å­˜(Cache)ä»¥æé«˜æ€§èƒ½.</p>
<h3 id="å¤šçº§ç¼“å­˜">å¤šçº§ç¼“å­˜</h3>
<h4 id="l1-cacheä¸€çº§ç¼“å­˜">L1 Cache(ä¸€çº§ç¼“å­˜)</h4>
<p>CPUç¬¬ä¸€å±‚é«˜é€Ÿç¼“å­˜,åˆ†ä¸ºæ•°æ®ç¼“å­˜å’ŒæŒ‡ä»¤ç¼“å­˜.ä¸€èˆ¬æœåŠ¡å™¨CPUçš„L1ç¼“å­˜çš„å®¹é‡åœ¨32---4096KB</p>
<h4 id="l2-cache">L2 Cache</h4>
<p>ç”±äºL1çº§é«˜é€Ÿç¼“å­˜å®¹é‡çš„é™åˆ¶,ä¸ºäº†å†æ¬¡æé«˜CPUçš„è¿ç®—é€Ÿåº¦,åœ¨CPUå¤–éƒ¨æ”¾ç½®ä¸€é«˜é€Ÿå­˜å‚¨å™¨,å³äºŒçº§ç¼“å­˜</p>
<h4 id="l3-cache">L3 Cache</h4>
<p>ç°åœ¨éƒ½æ˜¯å†…ç½®çš„,L3ç¼“å­˜çš„åº”ç”¨å¯ä»¥è¿›ä¸€æ­¥é™ä½å†…å­˜å»¶è¿Ÿ,åŒæ—¶æå‡å¤§æ•°æ®é‡è®¡ç®—æ—¶å¤„ç†å™¨çš„æ€§èƒ½.å…·æœ‰è¾ƒå¤§L3ç¼“å­˜çš„å¤„ç†å™¨èƒ½æä¾›æ›´æœ‰æ•ˆçš„æ–‡ä»¶ç³»ç»Ÿç¼“å­˜è¡Œä¸ºåŠè¾ƒçŸ­æ¶ˆæ¯å’Œå¤„ç†å™¨é˜Ÿåˆ—é•¿åº¦.ä¸€èˆ¬æ˜¯å¤šæ ¸å…±äº«ä¸€ä¸ªL3ç¼“å­˜</p>
<p>CPUåœ¨è¯»å–æ•°æ®æ—¶,å…ˆåœ¨L1ä¸­å¯»æ‰¾,å†ä»L2å¯»æ‰¾,å†ä»L3å¯»æ‰¾,ç„¶åæ˜¯å†…å­˜,å†åæ˜¯å¤–å­˜å‚¨å™¨(ç¡¬ç›˜ç­‰)</p>
<h3 id="ç¼“å­˜åŒæ­¥åè®®">ç¼“å­˜åŒæ­¥åè®®</h3>
<p>å¤šCPUè¯»å–åŒæ ·çš„æ•°æ®è¿›è¡Œç¼“å­˜,è¿›è¡Œä¸åŒè¿ç®—ä¹‹å,æœ€ç»ˆå†™å…¥ä¸»å†…å­˜ä»¥å“ªä¸ªCPUä¸ºå‡†?</p>
<p>åœ¨è¿™ç§é«˜é€Ÿç¼“å­˜å›å†™çš„åœºæ™¯ä¸‹ï¼Œæœ‰ä¸€ä¸ªç¼“å­˜ä¸€è‡´æ€§åè®®å¤šæ•°CPUå‚å•†å¯¹å®ƒè¿›è¡Œäº†å®ç°ã€‚</p>
<p><strong>MESIåè®®</strong>ï¼Œå®ƒè§„å®šæ¯æ¡ç¼“å­˜æœ‰ä¸ªçŠ¶æ€ä½ï¼ŒåŒæ—¶å®šä¹‰äº†ä¸‹é¢å››ä¸ªçŠ¶æ€:</p>
<ul>
<li>
<p>**ä¿®æ”¹æ€ï¼ˆ Modifiedï¼‰ğŸ˜—*æ­¤ cacheè¡Œå·²è¢«ä¿®æ”¹è¿‡ï¼ˆè„è¡Œï¼‰ï¼Œå†…å®¹å·²ä¸åŒäºä¸»å­˜ï¼Œä¸ºæ­¤ cacheä¸“æœ‰ï¼›</p>
</li>
<li>
<p>**ä¸“æœ‰æ€ï¼ˆ Exclusiveï¼‰ğŸ˜—*æ­¤ cacheè¡Œå†…å®¹åŒäºä¸»å­˜ï¼Œä½†ä¸å‡ºç°äºå…¶å®ƒ cacheä¸­ï¼›</p>
</li>
<li>
<p>**å…±äº«æ€ï¼ˆ Sharedï¼‰ğŸ˜—*æ­¤ cacheè¡Œå†…å®¹åŒäºä¸»å­˜ï¼Œä½†ä¹Ÿå‡ºç°äºå…¶å®ƒ cacherä¸­ï¼›</p>
</li>
<li>
<p>**æ— æ•ˆæ€ï¼ˆ Invalidï¼‰ğŸ˜—*æ­¤ cacheï¼Ÿè¡Œå†…å®¹æ— æ•ˆï¼ˆç©ºè¡Œï¼‰ã€‚</p>
</li>
</ul>
<p>å¤šå¤„ç†å™¨æ—¶ï¼Œå•ä¸ªCPUå¯¹ç¼“å­˜ä¸­æ•°æ®è¿›è¡Œäº†æ”¹åŠ¨ï¼Œéœ€è¦é€šçŸ¥ç»™å…¶ä»–CPU.</p>
<p>ä¹Ÿå°±æ˜¯æ„å‘³ç€ï¼ŒCPUå¤„ç†è¦æ§åˆ¶è‡ªå·±çš„è¯»å†™æ“ä½œï¼Œè¿˜è¦<strong>ç›‘å¬</strong>å…¶ä»–CPUå‘å‡ºçš„é€šçŸ¥ï¼Œä»è€Œä¿è¯<strong>æœ€ç»ˆä¸€è‡´</strong></p>
<h2 id="cpuæŒ‡ä»¤é‡æ’">CPUæŒ‡ä»¤é‡æ’</h2>
<h3 id="å®ä¾‹">å®ä¾‹</h3>
<pre><code class="language-java">//ä»£ç 
x=100;
y=z;
</code></pre>
<p>æ­£å¸¸æ‰§è¡Œçš„ä¸‰æ­¥éª¤</p>
<blockquote>
<p>1ã€å°†100å†™å…¥X<br>
2ã€è¯»å–zçš„å€¼<br>
3ã€å°†zå€¼å†™å…¥y</p>
</blockquote>
<p>é‡æ’åºåæ‰§è¡Œ</p>
<blockquote>
<p>1ã€è¯»å–zçš„å€¼<br>
2ã€å°†zå€¼å†™å…¥y<br>
3ã€å°†100å†™å…¥X</p>
</blockquote>
<h3 id="æŒ‡ä»¤é‡æ’çš„åœºæ™¯">æŒ‡ä»¤é‡æ’çš„åœºæ™¯</h3>
<p>å½“CPUå†™ç¼“å­˜æ—¶å‘ç°ç¼“å­˜åŒºå—æ­£è¢«å…¶ä»–CPUå ç”¨ï¼Œä¸ºäº†æé«˜CPUå¤„ç†æ€§èƒ½ï¼Œå¯èƒ½å°†åé¢çš„è¯»ç¼“å­˜å‘½ä»¤ä¼˜å…ˆæ‰§è¡Œã€‚</p>
<h3 id="as-if-serial">as-if- serial</h3>
<p>å¹¶ééšä¾¿é‡æ’ï¼Œéœ€è¦éµå®ˆas-if- serialè¯­ä¹‰</p>
<p>as-if- serialè¯­ä¹‰çš„æ„æ€æŒ‡ï¼šä¸ç®¡æ€ä¹ˆé‡æ’åºï¼ˆç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¸ºäº†æé«˜å¹¶è¡Œåº¦ï¼‰ï¼Œï¼ˆå•çº¿ç¨‹ï¼‰ç¨‹åºçš„æ‰§è¡Œç»“æœä¸èƒ½è¢«æ”¹å˜ã€‚</p>
<p>ç¼–è¯‘å™¨ï¼Œ runtimeå’Œå¤„ç†å™¨éƒ½å¿…é¡»éµå®ˆas-if- serialè¯­ä¹‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¸ä¼šå¯¹å­˜åœ¨æ•°æ®ä¾èµ–å…³ç³»çš„æ“ä½œåšé‡æ’åºã€‚</p>
<h2 id="ä¸¤ä¸ªé—®é¢˜">ä¸¤ä¸ªé—®é¢˜</h2>
<h3 id="cpué«˜é€Ÿç¼“å­˜ä¸‹çš„é—®é¢˜">CPUé«˜é€Ÿç¼“å­˜ä¸‹çš„é—®é¢˜</h3>
<p>ç¼“å­˜ä¸­çš„æ•°æ®ä¸ä¸»å†…å­˜çš„æ•°æ®å¹¶ä¸æ˜¯å®æ—¶åŒæ­¥çš„ï¼Œå„CPUï¼ˆæˆ–CPUæ ¸å¿ƒï¼‰é—´ç¼“å­˜çš„æ•°æ®ä¹Ÿä¸æ˜¯å®æ—¶åŒæ­¥ã€‚<strong>åœ¨åŒä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œå„CPUæ‰€çœ‹åˆ°åŒä¸€å†…å­˜åœ°å€çš„æ•°æ®çš„å€¼å¯èƒ½æ˜¯ä¸ä¸€è‡´çš„ã€‚</strong></p>
<h3 id="cpuæ‰§è¡ŒæŒ‡ä»¤é‡æ’åºä¼˜åŒ–ä¸‹çš„é—®é¢˜">CPUæ‰§è¡ŒæŒ‡ä»¤é‡æ’åºä¼˜åŒ–ä¸‹çš„é—®é¢˜</h3>
<p>è™½ç„¶éµå®ˆäº†as- if-serialiè¯­ä¹‰ï¼Œå•ä»…åœ¨<strong>å•CPU</strong>è‡ªå·±æ‰§è¡Œçš„æƒ…å†µä¸‹<strong>èƒ½ä¿è¯ç»“æœæ­£ç¡®</strong>ã€‚<br>
<strong>å¤šæ ¸å¤šçº¿ç¨‹ä¸­ï¼ŒæŒ‡ä»¤é€»è¾‘æ— æ³•åˆ†è¾¨å› æœå…³è”ï¼Œå¯èƒ½å‡ºç°ä¹±åºæ‰§è¡Œï¼Œå¯¼è‡´ç¨‹åºè¿è¡Œç»“æœé”™è¯¯ã€‚</strong></p>
<h2 id="å†…å­˜å±éšœ">å†…å­˜å±éšœ</h2>
<p>ä¸ºäº†è§£æ±ºä¸Šè¿°ä¸¤ä¸ªé—®é¢˜,å¤„ç†å™¨æä¾›äº†ä¸¤ä¸ªå†…å­˜å±éšœæŒ‡ä»¤ï¼ˆ Memory Barrierï¼‰</p>
<h3 id="å†™å†…å­˜å±éšœ-store-memory-barrier">å†™å†…å­˜å±éšœï¼ˆ Store Memory Barrier)</h3>
<p>åœ¨æŒ‡ä»¤åæ’å…¥ Store Barrierï¼Œèƒ½è®©å†™å…¥ç¼“å­˜ä¸­çš„æœ€æ–°æ•°æ®æ›´æ–°å†™å…¥ä¸»å†…å­˜ï¼Œè®©å…¶ä»–çº¿ç¨‹å¯è§ã€‚<br>
å¼ºåˆ¶å†™å…¥ä¸»å†…å­˜ï¼Œè¿™ç§æ˜¾ç¤ºè°ƒç”¨ï¼ŒCPUå°±ä¸ä¼šå› ä¸ºæ€§èƒ½è€ƒè™‘è€Œå»å¯¹æŒ‡ä»¤é‡æ’ã€‚</p>
<h3 id="è¯»å†…å­˜å±éšœ-load-memory-barrier">è¯»å†…å­˜å±éšœï¼ˆ Load Memory Barrier.)</h3>
<p>åœ¨æŒ‡ä»¤å‰æ’å…¥ Load Barrierï¼Œå¯ä»¥è®©é«˜é€Ÿç¼“å­˜ä¸­çš„æ•°æ®å¤±æ•ˆï¼Œå¼ºåˆ¶ä»æ–°ä»ä¸»å†…å­˜åŠ è½½æ•°æ®ã€‚<br>
å¼ºåˆ¶è¯»å–ä¸»å†…å­˜å†…å®¹ï¼Œè®©CPUç¼“å­˜ä¸ä¸»å†…å­˜ä¿æŒä¸€è‡´ï¼Œé¿å…äº†ç¼“å­˜å¯¼è‡´çš„ä¸€è‡´æ€§é—®é¢˜</p>
<h2 id="ç»“è¯­">ç»“è¯­</h2>
<p>è¿™ä¸ªç« èŠ‚æ˜¯åé¢<strong>JVMçº¿ç¨‹å®‰å…¨é—®é¢˜çš„é“ºå«</strong>ã€‚<br>
åŒæ—¶ï¼Œä¹Ÿçœ‹åˆ°äº†ç°ä»£CPUä¸æ–­æ¼”è¿›ï¼Œåœ¨ç¨‹åºè¿è¡Œä¼˜åŒ–ä¸­åšå‡ºçš„åŠªåŠ›ã€‚ä¸åŒCPUå‚å•†æ‰€ä»˜å‡ºçš„äººåŠ›ç‰©åŠ›æˆæœ¬ï¼Œæœ€ç»ˆä½“ç°åœ¨ä¸åŒCPUæ€§èƒ½å·®è·ä¸Šã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[clash for windowså‡çº§åå‘ç°socksç«¯å£åˆå¹¶åˆ°7890äº†]]></title>
        <id>https://www.sunjianbo.com/clash-for-windows-socks-port-7890/</id>
        <link href="https://www.sunjianbo.com/clash-for-windows-socks-port-7890/">
        </link>
        <updated>2020-07-24T01:19:11.000Z</updated>
        <content type="html"><![CDATA[<p>æ˜¨å¤©æ‰‹è´±æ›´æ–°äº†ä¸€ä¸‹è®¢é˜…,ç»“æœä¸èƒ½ç”¨äº†,ä¼°è®¡æ˜¯è§„åˆ™è¿›è¡Œäº†æ›´æ–°,æ²¡åŠæ³•åªå¥½å‡çº§clash.</p>
<p>æ–°ç‰ˆclashé¡µé¢å¤§æ”¹</p>
<p>å‡çº§å®Œä¹‹åchromeæ€ä¹ˆéƒ½ä¸Šä¸å»,åæ¥ä»”ç»†ä¸€çœ‹å‘ç°æœ€æ–°ç‰ˆ0.11.1åªå†™äº†ä¸€ä¸ªç«¯å£7890</p>
<p>æŸ¥çœ‹å‘å¸ƒæ—¥å¿—å‘ç°åœ¨0.10.2ç‰ˆæœ¬çš„æ—¶å€™å°†ç«¯å£è¿›è¡Œäº†åˆå¹¶</p>
<blockquote>
<p>migrate to mixed-port from port and socks-port</p>
</blockquote>
<p>è™½è¯´ä¸€ä¸ªç«¯å£æ··åˆäº†httpå’Œsocksç”¨èµ·æ¥ç¡®å®æ–¹ä¾¿äº†,ä½†æ˜¯æˆ‘è¿™æ ·çš„è€ç”¨æˆ·è¿˜çœŸæ˜¯æœ‰ç‚¹éº»çƒ¦äº†,é¦–å…ˆè¦æ”¹æµè§ˆå™¨æ’ä»¶SwitchyOmegaé‡Œé¢çš„ç«¯å£,ç„¶åè¿˜è¦æ”¹Proxifieré‡Œé¢çš„ç«¯å£.</p>
<p>å…³é”®æ˜¯è¦æ˜¯æ²¡æ³¨æ„åˆ°ç«¯å£å˜åŒ–çš„äººè¿˜çœŸæ˜¯è¦æµªè´¹å¾ˆå¤šçš„æ—¶é—´æ¥æ’æŸ¥é—®é¢˜.</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[çº¿ç¨‹ä¸­æ­¢]]></title>
        <id>https://www.sunjianbo.com/thread-abort/</id>
        <link href="https://www.sunjianbo.com/thread-abort/">
        </link>
        <updated>2020-07-17T06:49:17.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä¸æ¨èçš„ä¸­æ­¢æ–¹å¼">ä¸æ¨èçš„ä¸­æ­¢æ–¹å¼</h2>
<h3 id="stop">stop</h3>
<blockquote>
<p>ä¸­æ­¢çº¿ç¨‹,å¹¶ä¸”æ¸…é™¤ç›‘æ§å™¨é”çš„ä¿¡æ¯,å¯èƒ½å¯¼è‡´çº¿ç¨‹å®‰å…¨æ–‡ä»¶,jdkä¸å»ºè®®ä½¿ç”¨</p>
</blockquote>
<p>ä¸¾ä¾‹è¯´æ˜å¦‚ä½•å¯¼è‡´çº¿ç¨‹å®‰å…¨é—®é¢˜:</p>
<p>å…ˆå®šä¹‰ä¸€ä¸ªçº¿ç¨‹,å®ç°iå’ŒjåŒæ—¶+1</p>
<pre><code class="language-java">public class StopThread extends Thread {
  private int i = 0, j = 0;

  @Override
  public void run() {
    synchronized (this) {
	    // å¢åŠ åŒæ­¥é”ï¼Œç¡®ä¿çº¿ç¨‹å®‰å…¨
	    ++i;
	    try {
	      // ä¼‘çœ 10ç§’,æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ
	      Thread.sleep(10000);
	    } catch (InterruptedException e) {
	      e.printStackTrace();
	    }
	    ++j;
    }
  }

  /** * æ‰“å°iå’Œj */
  public void print() {
  System.out.println(&quot;i=&quot; + i + &quot; j=&quot; + j);
  }
}
</code></pre>
<p>stopæ–¹å¼ä¸­æ­¢</p>
<pre><code class="language-java">/**
 * ç¤ºä¾‹3 - çº¿ç¨‹stopå¼ºåˆ¶æ€§ä¸­æ­¢ï¼Œç ´åçº¿ç¨‹å®‰å…¨çš„ç¤ºä¾‹
 */
public class Demo31 {
  public static void main(String[] args) throws InterruptedException {
    StopThread thread = new StopThread();
    thread.start();
    // ä¼‘çœ 1ç§’ï¼Œç¡®ä¿iå˜é‡è‡ªå¢æˆåŠŸ
    Thread.sleep(1000);
    // æš‚åœçº¿ç¨‹
    thread.stop(); // é”™è¯¯çš„ç»ˆæ­¢
    // thread.interrupt(); // æ­£ç¡®ç»ˆæ­¢
    while (thread.isAlive()) {
      // ç¡®ä¿çº¿ç¨‹å·²ç»ç»ˆæ­¢
    } // è¾“å‡ºç»“æœ
    thread.print();
  }
}

</code></pre>
<p>ç†æƒ³è¾“å‡º:i=0 j=0</p>
<p>å®é™…æ‰§è¡Œç»“æœ:i=1 j=0</p>
<p>iæ²¡æœ‰å› ä¸­æ­¢è€Œå›æ»š,æ²¡æœ‰ä¿è¯åŒæ­¥ä»£ç å—é‡Œé¢çš„æ•°æ®ä¸€è‡´æ€§,ç ´åäº†çº¿ç¨‹å®‰å…¨</p>
<h3 id="destroy">destroy</h3>
<blockquote>
<p>jdkæœªå®ç°è¯¥æ–¹æ³•</p>
</blockquote>
<h2 id="ä¼˜é›…çš„çº¿ç¨‹ä¸­æ­¢">ä¼˜é›…çš„çº¿ç¨‹ä¸­æ­¢</h2>
<h3 id="interrupt">interrupt</h3>
<ul>
<li>
<p>å¦‚æœç›®æ ‡çº¿ç¨‹åœ¨è°ƒç”¨Object classçš„<code>wait()</code>,<code>wait(long)</code>,<code>wait(long,int)</code>æ–¹æ³•,<code>join()</code>,<code>join(long,int)</code>æˆ–<code>sleep(long,int)</code>æ–¹æ³•æ—¶è¢«é˜»å¡,é‚£ä¹ˆinterruptä¼šç”Ÿæ•ˆ,è¯¥çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€å°†è¢«æ¸…é™¤,æŠ›å‡ºInterruptedExceptionå¼‚å¸¸</p>
</li>
<li>
<p>å¦‚æœç›®æ ‡çº¿ç¨‹æ˜¯è¢«I/Oæˆ–è€…NIOä¸­çš„Channelæ‰€é˜»å¡,åŒæ ·,I/Oæ“ä½œä¼šè¢«ä¸­æ–­æˆ–è€…è¿”å›ç‰¹æ®Šå¼‚å¸¸å€¼.è¾¾åˆ°ç»ˆæ­¢çº¿ç¨‹çš„ç›®çš„.</p>
</li>
<li>
<p>å¦‚æœä»¥ä¸Šæ¡ä»¶éƒ½ä¸æ»¡è¶³,åˆ™ä¼šè®¾ç½®æ­¤çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€.</p>
</li>
</ul>
<p>å¤ç”¨ä¸Šé¢çš„ä¾‹å­,å°†å…¶ä¸­çš„<code>thread.stop();</code>æ”¹ä¸º<code>thread.interrupt();</code>æŸ¥çœ‹æ‰§è¡Œç»“æœ:</p>
<figure data-type="image" tabindex="1"><img src="https://static.sunjianbo.com/image-20200611104339183.png" alt="" loading="lazy"></figure>
<p>ç»“æœi=1 j=1ä¿è¯äº†æ•°æ®ä¸€è‡´æ€§,åŒæ—¶æŠ›å‡ºä¸€ä¸ªInterruptedExceptionå¼‚å¸¸æ¥ç»™å¼€å‘è€…è¿›è¡Œå¯¹åº”å¤„ç†</p>
<h3 id="æ ‡å¿—ä½">æ ‡å¿—ä½</h3>
<p>ä»£ç é€»è¾‘ä¸­,å¢åŠ ä¸€ä¸ªåˆ¤æ–­,ç”¨æ¥æ§åˆ¶çº¿ç¨‹çš„ä¸­æ­¢.</p>
<p>å¦‚ä¸‹ç¤ºä¾‹,è®¾ç½®ä¸€ä¸ªflag,é€šè¿‡å¤–éƒ¨ä¿®æ”¹flagçš„å€¼æ¥è®©whileæ¡ä»¶ä¸æ»¡è¶³è·³å‡ºå¾ªç¯ä»¥ä½¿çº¿ç¨‹ç»§ç»­è¿è¡Œåˆ°ç»“æŸ:</p>
<pre><code class="language-java">/** é€šè¿‡çŠ¶æ€ä½æ¥åˆ¤æ–­ */
public class Demo4 extends Thread {
  public volatile static boolean flag = true;

  public static void main(String[] args) throws InterruptedException {
    new Thread(() -&gt; {
      try {
        while (flag) { // åˆ¤æ–­æ˜¯å¦è¿è¡Œ
          System.out.println(&quot;è¿è¡Œä¸­&quot;);
          Thread.sleep(1000L);
        }
      } catch (InterruptedException e) {
        e.printStackTrace();
      }
    }).start();
    // 3ç§’ä¹‹åï¼Œå°†çŠ¶æ€æ ‡å¿—æ”¹ä¸ºFalseï¼Œä»£è¡¨ä¸ç»§ç»­è¿è¡Œ
    Thread.sleep(3000L);
    flag = false;
    System.out.println(&quot;ç¨‹åºè¿è¡Œç»“æŸ&quot;);
  }
}

</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[çº¿ç¨‹çŠ¶æ€]]></title>
        <id>https://www.sunjianbo.com/thread-state/</id>
        <link href="https://www.sunjianbo.com/thread-state/">
        </link>
        <updated>2020-07-03T01:47:48.000Z</updated>
        <content type="html"><![CDATA[<p>çº¿ç¨‹æœ‰6ä¸ªçŠ¶æ€,å¯ä»¥æŸ¥çœ‹java.lang.Thread.State</p>
<table>
<thead>
<tr>
<th>çŠ¶æ€</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>New</td>
<td>å°šæœªå¯åŠ¨çš„çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€</td>
</tr>
<tr>
<td>Runnable</td>
<td>å¯è¿è¡Œçº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€,ç­‰å¾…CPUè°ƒåº¦</td>
</tr>
<tr>
<td>Blocked</td>
<td>çº¿ç¨‹é˜»å¡ç­‰å¾…ç›‘è§†å™¨é”å®šçš„çº¿ç¨‹çŠ¶æ€</td>
</tr>
<tr>
<td>Waiting</td>
<td>ç­‰å¾…çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€.ä¸‹åˆ—ä¸å¸¦è¶…æ—¶çš„æ–¹å¼:<code>Object.wait</code>,<code>Thread.join</code>,<code>LockSupport.park</code></td>
</tr>
<tr>
<td>Timed Waiting</td>
<td>å…·æœ‰åˆ¶å®šç­‰å¾…æ—¶é—´çš„ç­‰å¾…çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€.ä¸‹åˆ—å¸¦è¶…æ—¶çš„æ–¹å¼:<code>Thread.sleep</code>,<code>Object.wait</code>,<code>Thread.join</code>,<code>LockSupport.parkNanos</code>,<code>LockSupport.parkUntil</code></td>
</tr>
<tr>
<td>Terminated</td>
<td>ç»ˆæ­¢çº¿ç¨‹çš„çº¿ç¨‹çŠ¶æ€,çº¿ç¨‹æ­£å¸¸å®Œæˆæ‰§è¡Œæˆ–è€…å‡ºç°å¼‚å¸¸</td>
</tr>
</tbody>
</table>
<figure data-type="image" tabindex="1"><img src="https://static.sunjianbo.com/image-20200611094432936.png" alt="states" loading="lazy"></figure>
<pre><code class="language-java">/**
 * å¤šçº¿ç¨‹è¿è¡ŒçŠ¶æ€åˆ‡æ¢ç¤ºä¾‹ &lt;br/&gt;
 */
public class Demo2 {
	public static Thread thread1;
	public static Demo2 obj;

	public static void main(String[] args) throws Exception {
		// ç¬¬ä¸€ç§çŠ¶æ€åˆ‡æ¢ - æ–°å»º -&gt; è¿è¡Œ -&gt; ç»ˆæ­¢
		System.out.println(&quot;#######ç¬¬ä¸€ç§çŠ¶æ€åˆ‡æ¢  - æ–°å»º -&gt; è¿è¡Œ -&gt; ç»ˆæ­¢################################&quot;);
		Thread thread1 = new Thread(new Runnable() {
			@Override
			public void run() {
				System.out.println(&quot;thread1å½“å‰çŠ¶æ€ï¼š&quot; + Thread.currentThread().getState().toString());
				System.out.println(&quot;thread1 æ‰§è¡Œäº†&quot;);
			}
		});
		System.out.println(&quot;æ²¡è°ƒç”¨startæ–¹æ³•ï¼Œthread1å½“å‰çŠ¶æ€ï¼š&quot; + thread1.getState().toString());
		thread1.start();
		Thread.sleep(2000L); // ç­‰å¾…thread1æ‰§è¡Œç»“æŸï¼Œå†çœ‹çŠ¶æ€
		System.out.println(&quot;ç­‰å¾…ä¸¤ç§’ï¼Œå†çœ‹thread1å½“å‰çŠ¶æ€ï¼š&quot; + thread1.getState().toString());
		// thread1.start(); TODO æ³¨æ„ï¼Œçº¿ç¨‹ç»ˆæ­¢ä¹‹åï¼Œå†è¿›è¡Œè°ƒç”¨ï¼Œä¼šæŠ›å‡ºIllegalThreadStateExceptionå¼‚å¸¸

		System.out.println();
		System.out.println(&quot;############ç¬¬äºŒç§ï¼šæ–°å»º -&gt; è¿è¡Œ -&gt; ç­‰å¾… -&gt; è¿è¡Œ -&gt; ç»ˆæ­¢(sleepæ–¹å¼)###########################&quot;);
		Thread thread2 = new Thread(new Runnable() {
			@Override
			public void run() {
				try {// å°†çº¿ç¨‹2ç§»åŠ¨åˆ°ç­‰å¾…çŠ¶æ€ï¼Œ1500åè‡ªåŠ¨å”¤é†’
					Thread.sleep(1500);
				} catch (InterruptedException e) {
					e.printStackTrace();
				}
				System.out.println(&quot;thread2å½“å‰çŠ¶æ€ï¼š&quot; + Thread.currentThread().getState().toString());
				System.out.println(&quot;thread2 æ‰§è¡Œäº†&quot;);
			}
		});
		System.out.println(&quot;æ²¡è°ƒç”¨startæ–¹æ³•ï¼Œthread2å½“å‰çŠ¶æ€ï¼š&quot; + thread2.getState().toString());
		thread2.start();
		System.out.println(&quot;è°ƒç”¨startæ–¹æ³•ï¼Œthread2å½“å‰çŠ¶æ€ï¼š&quot; + thread2.getState().toString());
		Thread.sleep(200L); // ç­‰å¾…200æ¯«ç§’ï¼Œå†çœ‹çŠ¶æ€
		System.out.println(&quot;ç­‰å¾…200æ¯«ç§’ï¼Œå†çœ‹thread2å½“å‰çŠ¶æ€ï¼š&quot; + thread2.getState().toString());
		Thread.sleep(3000L); // å†ç­‰å¾…3ç§’ï¼Œè®©thread2æ‰§è¡Œå®Œæ¯•ï¼Œå†çœ‹çŠ¶æ€
		System.out.println(&quot;ç­‰å¾…3ç§’ï¼Œå†çœ‹thread2å½“å‰çŠ¶æ€ï¼š&quot; + thread2.getState().toString());

		System.out.println();
		System.out.println(&quot;############ç¬¬ä¸‰ç§ï¼šæ–°å»º -&gt; è¿è¡Œ -&gt; é˜»å¡ -&gt; è¿è¡Œ -&gt; ç»ˆæ­¢###########################&quot;);
		Thread thread3 = new Thread(new Runnable() {
			@Override
			public void run() {
				synchronized (Demo2.class) {
					System.out.println(&quot;thread3å½“å‰çŠ¶æ€ï¼š&quot; + Thread.currentThread().getState().toString());
					System.out.println(&quot;thread3 æ‰§è¡Œäº†&quot;);
				}
			}
		});
		synchronized (Demo2.class) {
			System.out.println(&quot;æ²¡è°ƒç”¨startæ–¹æ³•ï¼Œthread3å½“å‰çŠ¶æ€ï¼š&quot; + thread3.getState().toString());
			thread3.start();
			System.out.println(&quot;è°ƒç”¨startæ–¹æ³•ï¼Œthread3å½“å‰çŠ¶æ€ï¼š&quot; + thread3.getState().toString());
			Thread.sleep(200L); // ç­‰å¾…200æ¯«ç§’ï¼Œå†çœ‹çŠ¶æ€
			System.out.println(&quot;ç­‰å¾…200æ¯«ç§’ï¼Œå†çœ‹thread3å½“å‰çŠ¶æ€ï¼š&quot; + thread3.getState().toString());
		}
		Thread.sleep(3000L); // å†ç­‰å¾…3ç§’ï¼Œè®©thread3æ‰§è¡Œå®Œæ¯•ï¼Œå†çœ‹çŠ¶æ€
		System.out.println(&quot;ç­‰å¾…3ç§’ï¼Œè®©thread3æŠ¢åˆ°é”ï¼Œå†çœ‹thread3å½“å‰çŠ¶æ€ï¼š&quot; + thread2.getState().toString());

	}
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[JAVAç¨‹åºè¿è¡ŒåŸç†åˆ†æ]]></title>
        <id>https://www.sunjianbo.com/jvm-operation-principle/</id>
        <link href="https://www.sunjianbo.com/jvm-operation-principle/">
        </link>
        <updated>2020-07-02T03:08:07.000Z</updated>
        <content type="html"><![CDATA[<p>æˆ‘çš„ç†è§£JVMå†…å­˜ç»“æ„å°±æ˜¯ç¨‹åºç”±å­—èŠ‚ç æ–‡ä»¶è¯»å…¥åˆ°jvmä¸­è§£æå­˜å‚¨åˆ°æ‰§è¡Œæ‰€éœ€è¦çš„ä¸€äº›ä¸œè¥¿</p>
<h2 id="classæ–‡ä»¶å†…å®¹">classæ–‡ä»¶å†…å®¹</h2>
<p>classæ–‡ä»¶åŒ…å«JAVAç¨‹åºæ‰§è¡Œçš„å­—èŠ‚ç ;æ•°æ®ä¸¥æ ¼æŒ‰ç…§æ ¼å¼ç´§å‡‘æ’åˆ—åœ¨classæ–‡ä»¶ä¸­çš„äºŒè¿›åˆ¶æµ,ä¸­é—´æ— ä»»ä½•åˆ†éš”ç¬¦;æ–‡ä»¶å¼€å¤´æœ‰ä¸€ä¸ª0xcafebabe(16è¿›åˆ¶)ç‰¹æ®Šçš„ä¸€ä¸ªæ ‡å¿—.</p>
<figure data-type="image" tabindex="1"><img src="https://static.sunjianbo.com/image-20200610134740885.png" alt="class" loading="lazy"></figure>
<p>classæ–‡ä»¶å†…å­˜å‚¨çš„æ˜¯æŒ‡ä»¤ç </p>
<h2 id="jvmè¿è¡Œæ—¶æ•°æ®åŒº">JVMè¿è¡Œæ—¶æ•°æ®åŒº</h2>
<figure data-type="image" tabindex="2"><img src="https://static.sunjianbo.com/image-20200610141943161.png" alt="jvm" loading="lazy"></figure>
<h3 id="çº¿ç¨‹å…±äº«">çº¿ç¨‹å…±äº«</h3>
<h4 id="æ–¹æ³•åŒº">æ–¹æ³•åŒº</h4>
<p>jvmç”¨æ¥å­˜å‚¨åŠ è½½çš„ç±»ä¿¡æ¯,å¸¸é‡,é™æ€å˜é‡,ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®.</p>
<p>è¿™æ˜¯è™šæ‹Ÿæœºä¸­çš„ä¸€ä¸ªé€»è¾‘åŒºåˆ’,å…·ä½“å®ç°æ ¹æ®ä¸åŒè™šæ‹Ÿæœºæ¥å®ç°.</p>
<p>å¦‚:oracleçš„HotSpotåœ¨java7ä¸­æ–¹æ³•åŒºæ”¾åœ¨æ°¸ä¹…ä»£,java8æ”¾åœ¨å…ƒæ•°æ®ç©ºé—´,å¹¶ä¸”é€šè¿‡GCæœºåˆ¶å¯¹è¿™ä¸ªåŒºåŸŸè¿›è¡Œç®¡ç†</p>
<h4 id="å †å†…å­˜">å †å†…å­˜</h4>
<p>å †å†…å­˜æ˜¯VMå¯åŠ¨æ—¶åˆ›å»º,ç”¨äºå­˜æ”¾å¯¹è±¡çš„å®ä¾‹.</p>
<p>è¿˜å¯ä»¥ç»†åˆ†ä¸º:è€å¹´ä»£,æ–°ç”Ÿä»£(Eden,From Survivor,To Survivor).</p>
<p>åƒåœ¾å›æ”¶å™¨ä¸»è¦å°±æ˜¯ç®¡ç†å †å†…å­˜.</p>
<p>å¦‚æœæ»¡äº†,å°±ä¼šå‡ºç°OutOfMemoryError</p>
<h2 id="çº¿ç¨‹ç‹¬äº«">çº¿ç¨‹ç‹¬äº«</h2>
<h4 id="è™šæ‹Ÿæœºæ ˆ">è™šæ‹Ÿæœºæ ˆ</h4>
<p>æ¯ä¸ªçº¿ç¨‹éƒ½åœ¨è¿™ä¸ªç©ºé—´åˆä¸€ä¸ªç§æœ‰çš„ç©ºé—´.</p>
<p>çº¿ç¨‹æ ˆç”±å¤šä¸ªæ ˆå¸§ç»„æˆ.</p>
<p>ä¸€ä¸ªçº¿ç¨‹ä¼šæ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªæ–¹æ³•,ä¸€ä¸ªæ–¹æ³•å¯¹åº”ä¸€ä¸ªæ ˆå¸§.</p>
<p><strong>æ ˆå¸§å†…å®¹åŒ…å«:å±€éƒ¨å˜é‡è¡¨,æ“ä½œæ•°æ ˆ,åŠ¨æ€é“¾æ¥,æ–¹æ³•è¿”å›åœ°å€,é™„åŠ ä¿¡æ¯ç­‰.</strong></p>
<p>æ ˆå†…å­˜é»˜è®¤æœ€å¤§æ˜¯<strong>1M</strong>.è¶…å‡ºåˆ™æŠ›å‡ºStackOverFlowError</p>
<h4 id="æœ¬åœ°æ–¹æ³•æ ˆ">æœ¬åœ°æ–¹æ³•æ ˆ</h4>
<p>å’Œè™šæ‹Ÿæœºæ ˆåŠŸèƒ½ç±»ä¼¼,ä¸åŒçš„æ˜¯è™šæ‹Ÿæœºæ ˆæ˜¯ä¸ºè™šæ‹Ÿæœºæ‰§è¡Œjavaæ–¹æ³•è€Œå‡†å¤‡çš„,æœ¬åœ°æ–¹æ³•æ ˆæ˜¯ä¸ºè™šæ‹Ÿæœºä½¿ç”¨Nativeæœ¬åœ°æ–¹æ³•è€Œå‡†å¤‡çš„.</p>
<p>è™šæ‹Ÿæœºè§„èŒƒæ²¡æœ‰è§„å®šå…·ä½“çš„å®ç°,ç”±ä¸åŒçš„è™šæ‹Ÿæœºå‚å•†å»å®ç°.</p>
<p>HotSpotè™šæ‹Ÿæœºä¸­çš„è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆçš„å®ç°æ˜¯ä¸€æ ·çš„.åŒæ ·,è¶…å‡ºå¤§å°ä»¥åä¹Ÿä¼šæŠ›å‡ºStackOverFlowError</p>
<h4 id="ç¨‹åºè®¡æ•°å™¨program-counter-register">ç¨‹åºè®¡æ•°å™¨(Program Counter Register)</h4>
<p>è®°å½•å½“å‰çº¿ç¨‹æ‰§è¡Œå­—èŠ‚ç çš„ä½ç½®,å­˜å‚¨çš„æ˜¯å­—èŠ‚ç æŒ‡ä»¤åœ°å€.</p>
<p>å¦‚æœæ‰§è¡ŒNativeæ–¹æ³•,åˆ™è®¡æ•°å™¨å€¼ä¸ºç©º.</p>
<p>æ¯ä¸ªçº¿ç¨‹éƒ½åœ¨è¿™ä¸ªç©ºé—´æœ‰ä¸€ä¸ªç§æœ‰çš„ç©ºé—´,å ç”¨å†…å­˜ç©ºé—´å¾ˆå°‘.</p>
<p>CPUåŒä¸€æ—¶é—´åªä¼šæ‰§è¡Œä¸€æ¡çº¿ç¨‹ä¸­çš„æŒ‡ä»¤.JVMå¤šçº¿ç¨‹ä¼šè½®æµåˆ‡æ¢å¹¶åˆ†é…CPUæ‰§è¡Œæ—¶é—´.åœ¨çº¿ç¨‹åˆ‡æ¢å,éœ€è¦é€šè¿‡ç¨‹åºè®¡æ•°å™¨æ¥æ¢å¤æ­£ç¡®çš„æ‰§è¡Œä½ç½®.</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[activemqå¯åŠ¨æŠ¥é”™Failed to connect to the Wrapper at port 32000]]></title>
        <id>https://www.sunjianbo.com/activemq-wrapper-error/</id>
        <link href="https://www.sunjianbo.com/activemq-wrapper-error/">
        </link>
        <updated>2020-05-06T08:36:28.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ç¯å¢ƒ">ç¯å¢ƒ</h2>
<blockquote>
<p>win7 x64</p>
<p>java1.8.0_20</p>
<p>activemq:5.15.12(å½“å‰æœ€æ–°)</p>
</blockquote>
<h2 id="æŠ¥é”™ä¿¡æ¯">æŠ¥é”™ä¿¡æ¯</h2>
<p>è¿è¡Œ<code>apache-activemq\bin\win64\activemq.bat</code>æŠ¥å¦‚ä¸‹é”™è¯¯:</p>
<pre><code>jvm 1    | Failed to connect to the Wrapper at port 32000.
jvm 1    | java.net.ConnectException: connect: Address is invalid on local machine, or port is not valid on remote machine
jvm 1    | Exiting JVM...
</code></pre>
<p>ç¼–è¾‘<code>win64</code>ç›®å½•ä¸‹<code>wrapper.conf</code>æ–‡ä»¶,å–æ¶ˆæ³¨é‡Š</p>
<pre><code># wrapper.debug=TRUE
</code></pre>
<hr>
<p>title: 'activemqå¯åŠ¨æŠ¥é”™Failed to connect to the Wrapper at port 32000'<br>
date: 2020-05-06 16:36:28<br>
tags: [activemq,wrapper,æŠ¥é”™]<br>
published: true<br>
hideInList: false<br>
feature:<br>
isTop: false</p>
<hr>
<pre><code>INFO   | jvm 1    | 2020/05/06 16:26:52 | Load native library.  One or more attempts may fail if platform specific libraries do not exist.
INFO   | jvm 1    | 2020/05/06 16:26:52 | Loading native library failed: wrapper-windows-x86-64.dll  Cause: java.lang.UnsatisfiedLinkError: no wrapper-windows-x86-64 in java.library.path
</code></pre>
<h2 id="è¯•å›¾è§£å†³">è¯•å›¾è§£å†³</h2>
<p>æ ¹æ®ä»¥ä¸Šä¸¤ä¸ªå…³é”®ä¿¡æ¯è¿›è¡ŒGoogle,ç„¶è€Œå´©æºƒçš„æ˜¯è‚¡æ²Ÿäº†å¥½ä¹…æ²¡æœ‰æ‰¾åˆ°è§£å†³æ–¹æ³•</p>
<p>æœŸé—´å°è¯•äº†ç½‘ä¸Šè¯´çš„ä¿®æ”¹<code>conf/activemq.xml</code>ä¸<code>conf/jetty.xml</code>é…ç½®æ–‡ä»¶ä¸­çš„ip<code>0.0.0.0</code>æ”¹ä¸º<code>127.0.0.1</code></p>
<p>ä¿®æ”¹<code>wrapper.conf</code>æ–‡ä»¶ä¸­çš„<code>wrapper.java.command=java</code>ä¸ºæŒ‡å®š<code>jdkpath\bin\java</code></p>
<p>å‡æ— æ•ˆ,æœ€åæ”¾å¼ƒè¿™ç§å¯åŠ¨æ–¹å¼,æ”¹ä¸ºä¸‹é¢æ–¹å¼å¯åŠ¨.æ²¡æœ‰æŠ¥é”™</p>
<h2 id="æœ€ç»ˆè§£å†³æ–¹æ¡ˆ">æœ€ç»ˆè§£å†³æ–¹æ¡ˆ</h2>
<p>åŒå‡»è¿è¡Œ<code>apache-activemq\bin\win6\InstallService.bat</code>ä»¥å®‰è£…æœåŠ¡</p>
<p><code>win+r</code>å¯åŠ¨<code>cmd</code>è¾“å…¥:</p>
<pre><code>net start activemq
</code></pre>
<p>å®Œå…¨æ²¡æŠ¥é”™,é¡ºåˆ©å¯åŠ¨</p>
<p>æµè§ˆå™¨æ‰“å¼€<a href="http://127.0.0.1:8161">http://127.0.0.1:8161</a></p>
<p>æˆåŠŸè®¿é—®</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[hp chromebook 11 G1é€šè¿‡croutonå®‰è£…åŠä½¿ç”¨Debian]]></title>
        <id>https://www.sunjianbo.com/chromebook-crouton-linux/</id>
        <link href="https://www.sunjianbo.com/chromebook-crouton-linux/">
        </link>
        <updated>2020-04-24T06:31:03.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä¸€å…³äºå¤‡ä»½">ä¸€.å…³äºå¤‡ä»½</h2>
<p>åœ¨æ“ä½œä¹‹å‰æœ¬æ¥åº”è¯¥æ˜¯å¤‡ä»½çš„,ä½†æ˜¯è€ƒè™‘åˆ°å®˜æ–¹æä¾›æ•‘ç –çš„æ–¹æ³•(<a href="https://support.google.com/chromebook/answer/1080595?hl=zh-Hans">https://support.google.com/chromebook/answer/1080595?hl=zh-Hans</a>),ä¹Ÿå°±å…ˆæ”¾å¿ƒçš„ç›´æ¥ä¸Šæ‰‹å®‰è£…äº†.(ä¸»è¦åŸå› å…¶å®æ˜¯æ²¡æœ‰uç›˜(â—”â—¡â—”))</p>
<h2 id="äºŒè¿›å…¥å¼€å‘è€…æ¨¡å¼">äºŒ.è¿›å…¥å¼€å‘è€…æ¨¡å¼</h2>
<p>åŒæ—¶æŒ‰ä½<code>esc + refresh + power</code></p>
<p>ç„¶åè‡ªåŠ¨é‡å¯,æç¤ºä½ ç³»ç»Ÿå·²ç»æŸå,å¥½äº†ç»“æŸäº†,å¯ä»¥å–ç ´çƒ‚äº†(â—”â—¡â—”)</p>
<p>å½“ç„¶ä¸ä¼šè¿™æ ·,å†æŒ‰ä¸€ä¸‹<code>ctrl+D</code>æç¤ºå…³é—­ç³»ç»ŸéªŒè¯,å†æŒ‰Enter,æç¤ºéªŒè¯å·²å…³é—­,ç»§ç»­<code>ctrl+D</code>*2</p>
<p>æœ€åç³»ç»Ÿå¼€å§‹ä¸ºäº†è¿›å…¥å¼€å‘è€…æ¨¡å¼å‡†å¤‡ä¸€äº›ä¸œè¥¿,éœ€è¦ç­‰å¾…å‡ åˆ†é’Ÿ.</p>
<p>å‡†å¤‡å®Œæˆé‡å¯ä¹‹å,å°±å§‹ç»ˆéœ€è¦æŒ‰<code>ctrl+D</code>æ¥è¿›å…¥chromeOSäº†</p>
<h2 id="ä¸‰ä¸‹è½½crouton">ä¸‰.ä¸‹è½½crouton</h2>
<p>croutoné¡¹ç›®çš„github:<a href="https://github.com/dnschneid/crouton">https://github.com/dnschneid/crouton</a></p>
<p>åœ¨Usageå†…å®¹ä¸‹æœ‰ä¸ªä¸‹è½½åœ°å€,è¿™é‡Œç›´æ¥è´´å‡ºæ¥äº†:<a href="https://goo.gl/fd3zc">https://goo.gl/fd3zc</a></p>
<p>ä¸‹è½½ä¸‹æ¥åº”è¯¥é»˜è®¤å­˜å‚¨åœ¨</p>
<h2 id="å››æ‰“å¼€shell">å››.æ‰“å¼€shell</h2>
<p><code>ctrl+alt+t</code>æ‰“å¼€ä¸€ä¸ªå‘½ä»¤è¡Œ,è¿™æ˜¯chromeçš„crosh,å†è¾“å…¥<code>shell</code>å›è½¦è¿›å…¥linux shell</p>
<h2 id="äº”å®‰è£…linux">äº”.å®‰è£…linux</h2>
<p>å› ä¸ºé…ç½®åƒåœ¾,æ‰€ä»¥é€‰æ‹©äº†debian buster+lxdeæ¡Œé¢,åœ¨è¿™ä¹‹å‰æˆ‘æŸ¥çœ‹äº†ä¸€ä¸‹å‰©ä½™ç©ºé—´<strong>9.2G</strong></p>
<pre><code class="language-shell">sudo sh crouton -r buster -t lxde -P http://127.0.0.1:7890
</code></pre>
<p><code>-P</code> å‚æ•°æ˜¯ç”¨æ¥æŒ‡å®šç¿»å¢™ä»£ç†çš„,ä¸‹é¢å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å¯å®‰è£…çš„linux</p>
<pre><code class="language-shell">sudo sh crouton -t list -P http://127.0.0.1:7890
</code></pre>
<h3 id="ä¸­é—´å› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥äº†ä¸€æ¬¡å†æ¬¡å®‰è£…ä¼šæŠ¥é”™">ä¸­é—´å› ä¸ºç½‘ç»œé—®é¢˜å¤±è´¥äº†ä¸€æ¬¡,å†æ¬¡å®‰è£…ä¼šæŠ¥é”™:</h3>
<blockquote>
<p>/usr/local/chroots/buster already has stuff in it!<br>
Either delete it, specify a different name (-n), or specify -u to update it.</p>
</blockquote>
<p>æ ¹æ®æç¤ºä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰èƒ½ç»§ç»­</p>
<pre><code>sudo sh crouton -u -n buster -t lxde -P http://127.0.0.1:7890
</code></pre>
<h3 id="å®‰è£…è€—æ—¶1410-1701æ¥è¿‘ä¸‰å°æ—¶å…¬å¸åƒåœ¾ç½‘ä¸‹è½½é€Ÿåº¦ä¸åˆ°100ä¸‹è½½æ–‡ä»¶500må·¦å³å®‰è£…å®Œæˆåç¬¬ä¸€æ¬¡å¯åŠ¨åå‰©ä½™ç©ºé—´76gå³å ç”¨16g">å®‰è£…è€—æ—¶14.10-17.01æ¥è¿‘ä¸‰å°æ—¶,å…¬å¸åƒåœ¾ç½‘ä¸‹è½½é€Ÿåº¦ä¸åˆ°100,ä¸‹è½½æ–‡ä»¶500Må·¦å³,å®‰è£…å®Œæˆåç¬¬ä¸€æ¬¡å¯åŠ¨åå‰©ä½™ç©ºé—´7.6G,å³å ç”¨1.6G</h3>
<h3 id="å¯åŠ¨linux">å¯åŠ¨linux</h3>
<pre><code>sudo startlxde
</code></pre>
<h2 id="å…­å¤‡ä»½å›å¤åˆ é™¤ç³»">å…­.å¤‡ä»½/å›å¤/åˆ é™¤ç³»</h2>
<p>å¤‡ä»½å‘½ä»¤:</p>
<pre><code>sudo edit-chroot -b buster -f ~/Downloads/buster-backup.bak
</code></pre>
<p>æ¢å¤:</p>
<pre><code>sudo sh -e ~/Downloads/crouton -f ~/Downloads/buster-backup.bak
</code></pre>
<p>åˆ é™¤</p>
<pre><code>sudo delete-chroot buster
</code></pre>
<p>æˆ–è€…</p>
<pre><code>sudo edit-chroot -d buster
</code></pre>
<h2 id="ä¸ƒä½¿ç”¨">ä¸ƒ.ä½¿ç”¨:</h2>
<h3 id="1ä¸å¯åŠ¨æ•´ä¸ªlinuxåªå¯åŠ¨å…¶shell">1.ä¸å¯åŠ¨æ•´ä¸ªlinuxåªå¯åŠ¨å…¶shell:</h3>
<pre><code>sudo enter-chroot
</code></pre>
<h3 id="2ç³»ç»Ÿä»»æ„åˆ‡æ¢">2.ç³»ç»Ÿä»»æ„åˆ‡æ¢</h3>
<blockquote>
<p>shift+ctrl+alt+å‰è¿›é”®(F2)/åé€€é”®(F1)</p>
</blockquote>
<p>ä¸æ˜¯è¯´åé€€åˆ‡æ¢è¿‡å»ç„¶åå‰è¿›åˆ‡æ¢å›æ¥,è€Œæ˜¯åªè¦ç”¨ä¸€ä¸ªç»„åˆé”®å°±å¯ä»¥æ¥å›åˆ‡æ¢,æŒ‰ä¸€ä¸‹åˆ‡æ¢å†æŒ‰ä¸€ä¸‹åˆ‡æ¢å›æ¥</p>
<h3 id="3å®‰è£…åç³»ç»Ÿé…ç½®">3.å®‰è£…åç³»ç»Ÿé…ç½®</h3>
<p>å‚è€ƒè¿™ç¯‡æ–‡ç« :<a href="https://frapples.github.io/articles/2017-05-11-e6dc.html">https://frapples.github.io/articles/2017-05-11-e6dc.html</a></p>
<h3 id="4å®‰è£…clash">4.å®‰è£…clash</h3>
<p>chromeçš„shadowsocksæ’ä»¶æ¯”è¾ƒè€,å¾ˆå¤šæ–°çš„åŠ å¯†åè®®éƒ½ä¸æ”¯æŒ,æ‰€ä»¥æˆ‘ä¹‹å‰éƒ½æ˜¯èµ°å±€åŸŸç½‘çš„ä»£ç†,è£…å¥½clashå°±å¯ä»¥è‡ªç»™è‡ªè¶³äº†</p>
<p>å®Œæ•´æ•™ç¨‹:<a href="https://ssu.tw/index.php/archives/37/">https://ssu.tw/index.php/archives/37/</a></p>
<pre><code>cd ~
sudo mkdir clash //åˆ›å»ºç›®å½•
cd clash //åˆ‡æ¢è‡³æ­¤ç›®å½•
sudo wget https://github.com/Dreamacro/clash/releases/download/v0.19.0/clash-linux-armv7-v0.19.0.gz //ä¸‹è½½Då¤§é¢„ç¼–è¯‘å¥½çš„åŒ…
sudo gunzip clash-linux-armv7-v0.19.0.gz //è§£å‹ï¼Œè®°å¾—å¯ä»¥ä½¿ç”¨Tabé”®è¡¥å…¨ï¼Œå¾—åˆ°clashçš„äºŒè¿›åˆ¶
sudo mv clash-linux-armv7-v0.19.0 /usr/local/bin/clash //ç§»åŠ¨å¹¶é‡å‘½åï¼Œç®€çŸ­æ–¹ä¾¿ä½¿ç”¨
sudo chmod +x /usr/local/bin/clash //èµ‹äºˆæ­¤æ–‡ä»¶å¯æ‰§è¡Œæƒé™
</code></pre>
<p>ä¸‹è½½é…ç½®æ–‡ä»¶æ ·ä¾‹</p>
<pre><code>sudo wget https://raw.githubusercontent.com/ConnersHua/Profiles/master/Clash/Pro.yaml //ä¸‹è½½èŒƒä¾‹é…ç½®æ–‡ä»¶
sudo mv Pro.yaml config.yaml //é‡å‘½å
</code></pre>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶</p>
<pre><code>sudo vim config.yaml //ç¼–è¾‘æ­¤é…ç½®æ–‡ä»¶

# è¿™é‡Œå»ºè®®ä»falseæ”¹ä¸ºtrueï¼Œå…è®¸å±€åŸŸç½‘å…±äº«
allow-lan: true

# ä¸‹é¢è¿™è¡Œï¼Œå»ºè®®å–æ¶ˆå‰é¢#æ³¨é‡Šç¬¦å·
bind-address: &quot;*&quot;

# RESTful API for clash
# ä¿®æ”¹å¤–éƒ¨æ§åˆ¶ï¼Œå°†127.0.0.1æ”¹ä¸º0.0.0.0
external-controller: 0.0.0.0:9090
</code></pre>
<p>å¯åŠ¨clash</p>
<pre><code>clash -d ~/clash
</code></pre>
<p>clashå¯åŠ¨ä¹‹åï¼Œä½ å¯ä»¥ç”¨å±€åŸŸç½‘çš„è®¾å¤‡è®¿é—®<code>http://clash.razord.top</code>ï¼Œ ç„¶åHostå¡«å†™ä½ æ ‘è“æ´¾åœ¨å±€åŸŸç½‘ä¸­çš„IPåœ°å€ï¼Œç«¯å£å¡«å†™ä¸Šé¢è®¾ç½®çš„9090ï¼Œå³å¯è®¿é—®æˆåŠŸã€‚</p>
<h3 id="5å®‰è£…typoraå¤±è´¥">5.å®‰è£…Typora(å¤±è´¥)</h3>
<p>å› ä¸ºæœ¬æ¥æä¸ªchromebookå®šä½å°±æ˜¯ç”¨æ¥å†™æ–‡æ¡£çš„,æ‰€ä»¥å®‰è£…è‡ªå·±ç”¨ä¹ æƒ¯çš„mdç¼–è¾‘å™¨Typora,æ–¹æ³•å‚è€ƒ<a href="https://support.typora.io/Typora-on-Linux/">å®˜æ–¹æ–‡æ¡£</a></p>
<pre><code class="language-shell">wget -qO - https://typora.io/linux/public-key.asc | sudo apt-key add -
sudo add-apt-repository 'deb https://typora.io/linux ./'
# è‹¥æŠ¥é”™ add-apt-repository: command not foundåˆ™å…ˆæ‰§è¡Œ:sudo apt-get install software-properties-common
sudo apt-get update
sudo apt-get install typora
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[git push error dst refspec "XXX" matches more than one]]></title>
        <id>https://www.sunjianbo.com/git-push-matches-more-than-one/</id>
        <link href="https://www.sunjianbo.com/git-push-matches-more-than-one/">
        </link>
        <updated>2020-04-15T04:36:08.000Z</updated>
        <content type="html"><![CDATA[<p>ä»Šå¤©åœ¨2.1.2åˆ†æ”¯ä¸Šä¿®æ”¹å®Œxxl-jobçš„æ•°æ®åº“ä¸ºoracleä¹‹åæƒ³è¦æäº¤,ç»“æœæŠ¥é”™</p>
<h3 id="æŠ¥é”™ä¿¡æ¯">æŠ¥é”™ä¿¡æ¯</h3>
<blockquote>
<p>Failed with error: HttpRequestException encountered. dst refspec 2.1.2 matches more than one. failed to push some refs to 'https://github.com/sunjianbo/xxl-job.git'</p>
</blockquote>
<figure data-type="image" tabindex="1"><img src="https://static.sunjianbo.com/1586921186771_17.png" alt="error" loading="lazy"></figure>
<h3 id="åŸå› ">åŸå› </h3>
<p>ç¿»è¯‘ä¸€ä¸‹å°±æ˜¯ä½ æƒ³è¦æäº¤åˆ°çš„ç›®æ ‡ä¸åªå­˜åœ¨ä¸€ä¸ª,gitä¸çŸ¥é“ä½ è¦æäº¤åˆ°å“ªä¸€ä¸ªäº†<br>
é‚£ä¹ˆåˆ†æ”¯åç§°è‚¯å®šæ˜¯ä¸ä¼šå‡ºç°é‡å¤çš„,é‚£å°±åªå¯èƒ½æ˜¯åˆ†æ”¯åå’Œtagåå†²çªäº†</p>
<pre><code>$ git tag
</code></pre>
<p>æŸ¥çœ‹å‘ç°æœç„¶ä¹Ÿå­˜åœ¨ä¸€ä¸ªå«åš2.1.2çš„tag</p>
<h3 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h3>
<p>åˆ é™¤æœ¬åœ°æ ‡ç­¾</p>
<pre><code>$ git tag -d 2.1.2
</code></pre>
<p>åˆ é™¤è¿œç¨‹æ ‡ç­¾</p>
<pre><code>$ git push origin :refs/tags/2.1.2
</code></pre>
<p>é¡ºåˆ©æäº¤<br>
<img src="https://static.sunjianbo.com/1586921495457_18.png" alt="pushed" loading="lazy"></p>
<p>é™„git tagå¸¸ç”¨æ“ä½œé€ŸæŸ¥:</p>
<p><a href="https://blog.csdn.net/happycxz/article/details/78893690">https://blog.csdn.net/happycxz/article/details/78893690</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ‰‹åŠ¨ä¿®æ”¹xxl-job-adminä»¥æ”¯æŒOracleæ•°æ®åº“]]></title>
        <id>https://www.sunjianbo.com/xxl-job-oracle/</id>
        <link href="https://www.sunjianbo.com/xxl-job-oracle/">
        </link>
        <updated>2020-04-14T08:31:33.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>åŸºäºxxl-job-2.1.2.Release</p>
</blockquote>
<p>ç›´æ¥ä½¿ç”¨:<a href="https://github.com/sunjianbo/xxl-job/tree/2.1.2">https://github.com/sunjianbo/xxl-job/tree/2.1.2</a></p>
<h2 id="docdbtables_xxl_jobsql">doc/db/tables_xxl_job.sql</h2>
<p>æ ¹æ®æ–‡ä»¶å†…å®¹å°†å…¶ä¸­çš„mysqlè¯­æ³•ä¿®æ”¹ä¸ºoracle</p>
<p>è¿™é‡Œæ˜¯æˆ‘å·²æ”¹å¥½çš„2.1.2ç‰ˆæœ¬å¯¹åº”çš„oracleæ–‡ä»¶:<a href="https://static.sunjianbo.com/code/sql/tables_xxl_job_oracle.sql">ä¸‹è½½</a></p>
<h2 id="pomxml">/pom.xml</h2>
<p>æ³¨é‡Š</p>
<pre><code class="language-xml">&lt;!-- mysql --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;mysql&lt;/groupId&gt;
    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
    &lt;version&gt;${mysql-connector-java.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>æ›¿æ¢ä¸º</p>
<pre><code class="language-xml">&lt;!-- oracle --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.oracle&lt;/groupId&gt;
    &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;
    &lt;version&gt;11.2.0.3&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>æ ¹æ®è‡ªå·±çš„oracleæœ¬ç‰ˆé€‰æ‹©å¯¹åº”çš„jdbc</p>
<blockquote>
<p>æŸ¥çœ‹æœ¬ç‰ˆSQL:	<code>select version from v$instance;</code></p>
</blockquote>
<h2 id="srcmainresourcesapplicationproperties">/src/main/resources/application.properties</h2>
<p>æ³¨é‡Š</p>
<pre><code>#spring.datasource.url=jdbc:mysql://127.0.0.1:3306/xxl_job?Unicode=true&amp;characterEncoding=UTF-8
#spring.datasource.driver-class-name=com.mysql.jdbc.Driver
#spring.datasource.tomcat.validation-query=SELECT 1
</code></pre>
<p>æ›¿æ¢ä¸º</p>
<pre><code>spring.datasource.url=jdbc:oracle:thin:@127.0.0.1:3306:1521/xxl_job
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
spring.datasource.tomcat.validation-query=SELECT 1 FROM DUAL
</code></pre>
<h2 id="srcmainresourcesmybatis-mapper">/src/main/resources/mybatis-mapper</h2>
<ul>
<li>æŸ¥æ‰¾mybatis-mapperç›®å½•ä¸‹çš„æ‰€æœ‰</li>
</ul>
<pre><code>`
</code></pre>
<p>ç¬¦å·,æ›¿æ¢ä¸ºç©º</p>
<ul>
<li>æŸ¥æ‰¾</li>
</ul>
<pre><code>AS t
</code></pre>
<p>æ›¿æ¢ä¸ºt,æœç´¢ASå¤§å†™åŒºåˆ†æˆ–è€…words</p>
<ul>
<li>æŸ¥æ‰¾</li>
</ul>
<pre><code>;
</code></pre>
<p>ç¬¦å·,æ›¿æ¢ä¸ºç©º</p>
<h2 id="srcmainresourcesmybatis-mapperxxljobgroupmapperxml">/src/main/resources/mybatis-mapper/XxlJobGroupMapper.xml</h2>
<p>å°†å…¶ä¸­</p>
<pre><code>t.`order`
</code></pre>
<p>ä»¥åŠ</p>
<pre><code>t.order
</code></pre>
<p>æ›¿æ¢ä¸º</p>
<pre><code>t.&quot;ORDER&quot;
</code></pre>
<p>ORDERå¿…é¡»å¤§å†™</p>
<h2 id="srcmainresourcesmybatis-mapperxxljobloggluemapperxml">/src/main/resources/mybatis-mapper/XxlJobLogGlueMapper.xml</h2>
<p>å»æ‰select å‡ºçš„<code>,rownum rn</code>å°†<code>where rn</code>æ”¹ä¸º<code>where rownum</code></p>
<p>ä¿®æ”¹åçš„ä»£ç :</p>
<pre><code>&lt;delete id=&quot;removeOld&quot; &gt;
   DELETE FROM xxl_job_logglue
   WHERE id NOT in(
      SELECT id FROM(
         SELECT id FROM xxl_job_logglue
         WHERE job_id = #{jobId}
         ORDER BY update_time desc
      ) t1 where rownum  &lt;![CDATA[ &lt;= ]]&gt;  #{limit}
   ) AND job_id = #{jobId}
&lt;/delete&gt;
</code></pre>
<h2 id="å…¶ä»–mapperxml">å…¶ä»–Mapper.xml</h2>
<ul>
<li>saveçš„è‡ªå¢idä¿®æ”¹ä¸ºoracleæ ¼å¼</li>
<li>LIMITçš„ä¿®æ”¹ä¸ºoracleçš„rownum</li>
<li>å¢åŠ jdbcTypeä»¥é˜²ç©ºå€¼æŠ¥é”™</li>
</ul>
<p><strong>æ³¨æ„:</strong></p>
<p>å¦‚æœåŠ jdbcTypeçš„è¯,XxlJobInfoMapper.xmlä¸­æœ‰ä¸¤ä¸ªå±æ€§å†™çš„æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi><mi>x</mi><mi>e</mi><mi>c</mi><mi>u</mi><mi>t</mi><mi>o</mi><mi>r</mi><mi>T</mi><mi>i</mi><mi>m</mi><mi>e</mi><mi>o</mi><mi>u</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">{executorTimeout}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="mord mathdefault">x</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">u</span><span class="mord mathdefault">t</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">i</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">t</span></span></span></span></span>{executorFailRetryCount},æ³¨æ„æ”¹æˆ#{}</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[telegramé¢‘é“å‘å¸ƒå¢åŠ ç‚¹èµè¯„è®ºç­‰åé¦ˆåŠŸèƒ½]]></title>
        <id>https://www.sunjianbo.com/telegram-add-reactions/</id>
        <link href="https://www.sunjianbo.com/telegram-add-reactions/">
        </link>
        <updated>2020-04-01T02:57:10.000Z</updated>
        <content type="html"><![CDATA[<p>æˆ‘è‡ªå·±ç»è¥äº†ä¸€ä¸ªtelegramçš„è®¢é˜…é¢‘é“:<a href="https://t.me/alittlefun">æœ‰ç‚¹æ„æ€@alittlefun</a>ç”¨æ¥åˆ†äº«ä¸€äº›æœ‰æ„æ€çš„å›¾ç‰‡ä»€ä¹ˆçš„.</p>
<p>ä¹‹å‰çœ‹åˆ°åˆ«äººçš„è®¢é˜…é¢‘é“æœ‰emojiesçš„ç‚¹èµåŠŸèƒ½,è§‰å¾—å¾ˆå¥½,ç±»ä¼¼è¿™æ ·:</p>
<figure data-type="image" tabindex="1"><img src="https://static.sunjianbo.com/20200331110800.png" alt="" loading="lazy"></figure>
<p>æ‰€ä»¥æƒ³è¦æ”¾åˆ°è‡ªå·±é¢‘é“æ¥ç”¨,ä½†æ˜¯ä¸Šç½‘æ‰¾äº†ä¸€åœˆåªæ‰¾åˆ°ä¸€ä¸ª@likeæœºå™¨äººå¯ä»¥æ»¡è¶³æˆ‘çš„è¦æ±‚,åŸæ–‡:<a href="http://x.2129.n8.nabble.com/Telegram-td30.html">http://x.2129.n8.nabble.com/Telegram-td30.html</a></p>
<p>ä½†æ˜¯å®ƒæœ‰ä¸€ä¸ªé—®é¢˜,å°±æ˜¯å‘å‡ºæ¥çš„å†…å®¹æ˜¯é€šè¿‡è½¬å‘æ–¹å¼å‡ºæ¥çš„,è¿™æ ·å°±ä¼šåœ¨ä¸Šé¢æœ‰ä¸ªæ ‡å¿—:</p>
<figure data-type="image" tabindex="2"><img src="https://static.sunjianbo.com/20200331111030.png" alt="" loading="lazy"></figure>
<p>å¤„å¥³åº§çš„æˆ‘å“ªå—å¾—äº†è¿™ä¸ªå•Š.äºæ˜¯ç»å°½è„‘æ±ä¸€é¡¿æŠ˜è…¾,ç»ˆäºæ‰¾åˆ°äº†æ–¹æ³•(ï¼¾ï¼ï¼¾)V</p>
<h2 id="1ä½¿ç”¨botfatheråˆ›å»ºä¸€ä¸ªå‘å¸ƒbot">1.ä½¿ç”¨@BotFatheråˆ›å»ºä¸€ä¸ªå‘å¸ƒbot</h2>
<p>æœç´¢åˆ°@BotFather --&gt; <code>/start</code> --&gt; <code>/newbot</code> --&gt; è¾“å…¥è‡ªå®šä¹‰id --&gt; è¾“å…¥è‡ªå®šä¹‰username</p>
<figure data-type="image" tabindex="3"><img src="https://static.sunjianbo.com/20200331111841.png" alt="step1" loading="lazy"></figure>
<h2 id="2ä½¿ç”¨controllerbot-æ–°å¢å¹¶ç®¡ç†é¢‘é“">2.ä½¿ç”¨@ControllerBot æ–°å¢å¹¶ç®¡ç†é¢‘é“</h2>
<h3 id="21æœç´¢åˆ°controllerbot-start-addchannel-å¤åˆ¶ä¸Šå›¾æ ‡çº¢ä½ç½®çš„åœ¨botfatheråˆ›å»ºçš„tokenåˆ°controllerbot-ç²˜è´´">2.1æœç´¢åˆ°@ControllerBot --&gt; <code>/start</code> --&gt; <code>/addchannel</code>--&gt; å¤åˆ¶ä¸Šå›¾æ ‡çº¢ä½ç½®çš„åœ¨BotFatheråˆ›å»ºçš„tokenåˆ°ControllerBot ç²˜è´´</h3>
<figure data-type="image" tabindex="4"><img src="https://static.sunjianbo.com/20200331112452.png" alt="addchannel" loading="lazy"></figure>
<figure data-type="image" tabindex="5"><img src="https://static.sunjianbo.com/20200331112830.png" alt="token" loading="lazy"></figure>
<h3 id="22æŒ‰ç…§æç¤ºåˆ°è‡ªå·±çš„é¢‘é“å»æŠŠåˆšåˆšåˆ›å»ºçš„botå¢åŠ ä¸ºç®¡ç†å‘˜">2.2æŒ‰ç…§æç¤ºåˆ°è‡ªå·±çš„é¢‘é“å»æŠŠåˆšåˆšåˆ›å»ºçš„botå¢åŠ ä¸ºç®¡ç†å‘˜</h3>
<p>è‡ªå·±é¢‘é“å³ä¸Šè§’Manage Channel --&gt; ç‚¹å‡»Administrators --&gt; ç‚¹å‡»å·¦ä¸‹è§’ADD ADMINISTRATOR --&gt; æœç´¢åˆšåˆšåˆ›å»ºçš„bot(eg:alittlefun_bot)--&gt;å®Œæˆç®¡ç†å‘˜æ·»åŠ </p>
<h3 id="23è½¬å‘ä¸€æ¡è‡ªå·±é¢‘é“çš„ä¿¡æ¯ç»™controllerbot">2.3è½¬å‘ä¸€æ¡è‡ªå·±é¢‘é“çš„ä¿¡æ¯ç»™@ControllerBot</h3>
<h3 id="24è¾“å…¥åŸå¸‚åæ¥ç¡®å®šæ—¶åŒºç›´æ¥è¾“å…¥shanghai">2.4è¾“å…¥åŸå¸‚åæ¥ç¡®å®šæ—¶åŒº,ç›´æ¥è¾“å…¥<code>shanghai</code></h3>
<figure data-type="image" tabindex="6"><img src="https://static.sunjianbo.com/20200331113549.png" alt="" loading="lazy"></figure>
<h3 id="25è®¾ç½®å®Œæˆ">2.5è®¾ç½®å®Œæˆ</h3>
<h2 id="3å‘å¸ƒå†…å®¹">3.å‘å¸ƒå†…å®¹</h2>
<h3 id="31ç‚¹å‡»ä¸Šå›¾create-postæŒ‰é’®æˆ–è€…æ‰‹åŠ¨æ‰“å¼€ä¹‹å‰åˆ›å»ºçš„æœºå™¨äººalittlefun_bot-start-å‘é€å†…å®¹">3.1ç‚¹å‡»ä¸Šå›¾<strong>Create Post</strong>æŒ‰é’®æˆ–è€…æ‰‹åŠ¨æ‰“å¼€ä¹‹å‰åˆ›å»ºçš„æœºå™¨äºº(@alittlefun_bot) --&gt; <code>/start</code> --&gt; å‘é€å†…å®¹</h3>
<figure data-type="image" tabindex="7"><img src="https://static.sunjianbo.com/20200331131340.png" alt="" loading="lazy"></figure>
<h3 id="32ç‚¹å‡»add-reactionsæŒ‰é’®å‘é€éœ€è¦çš„emojiè¡¨æƒ…è¿‡å»">3.2ç‚¹å‡»<strong>Add Reactions</strong>æŒ‰é’®,å‘é€éœ€è¦çš„emojiè¡¨æƒ…è¿‡å»</h3>
<h3 id="33æœ€åç‚¹å‡»æ–‡æœ¬æ¡†ä¸‹é¢sendæŒ‰é’®è®¾å®šå‘é€æ—¶æœºå‚è€ƒå›¾ç‰‡">3.3æœ€åç‚¹å‡»æ–‡æœ¬æ¡†ä¸‹é¢SendæŒ‰é’®,è®¾å®šå‘é€æ—¶æœº(å‚è€ƒå›¾ç‰‡)</h3>
<figure data-type="image" tabindex="8"><img src="https://static.sunjianbo.com/20200331132137.png" alt="" loading="lazy"></figure>
<h2 id="4æ€»ç»“">4.æ€»ç»“</h2>
<p>ç»è¿‡ä»¥ä¸Šæ­¥éª¤å³å¯å®ç°åœ¨è‡ªå·±çš„é¢‘é“å‘å¸ƒå¸¦emojiç‚¹èµåé¦ˆçš„å†…å®¹.</p>
<p>æ­¥éª¤å¯ä»¥ç®€å•å½’çº³ä¸º</p>
<ol>
<li>
<p>@BotFatheråˆ›å»ºè‡ªå®šä¹‰bot</p>
</li>
<li>
<p>@ControllerBotç»‘å®šè‡ªå®šä¹‰botå’Œé¢‘é“</p>
</li>
<li>
<p>åœ¨è‡ªå®šä¹‰botå‘å¸ƒå†…å®¹</p>
</li>
</ol>
<p>åŒæ—¶ç»†å¿ƒçš„å°ä¼™ä¼´ä¸€å®šä¹Ÿå‘ç°äº†é€šè¿‡è¿™ä¸ªbotè¿˜å¯ä»¥å®ç°<strong>é™„åŠ åª’ä½“</strong>,<strong>å¢åŠ è¯„è®º</strong>,<strong>é™„åŠ URL</strong>ä»¥åŠ<strong>å®šæ—¶å‘é€</strong>çš„åŠŸèƒ½,éƒ½å¯ä»¥è‡ªè¡Œç ”ç©¶ä¸€ä¸‹.</p>
]]></content>
    </entry>
</feed>